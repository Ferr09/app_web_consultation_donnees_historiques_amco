<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <title>{% block title %}AMCO - Interface{% endblock %}</title>

    <!-- Style principal de l'application -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">

    <!-- Font Awesome depuis un CDN fiable (une seule fois) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- Bloc pour des CSS spécifiques à une page -->
    {% block head %}{% endblock %}
</head>

<body class="{% block body_class %}{% endblock %}">
    <div class="fond">
        <div class="superposition">
            <div class="container">
                <!-- Barre latérale (Sidebar) - commune à toutes les pages -->
                <nav class="sidebar">
                    <ul class="nav-items">
                        <li>
                            <img src="{{ url_for('static', filename='images/logo-groupe-amco.png') }}" alt="Logo"
                                width="90">
                        </li>
                        <li>
                            <a href="{{ url_for('main.filtre_requete') }}" title="Requête simple">
                                <i class="fas fa-search"></i>
                                <span>Requête simple</span>
                            </a>
                        </li>
                        <li>
                            <a href="{{ url_for('main.filtre_requete_avancee') }}" title="Requête avancée">
                                <i class="fas fa-chart-line"></i>
                                <span>Requête avancée</span>
                            </a>
                        </li>
                        <li>
                            <a href="{{ url_for('main.documentation') }}" title="Documentation">
                                <i class="fas fa-file-alt"></i>
                                <span>Documentation</span>
                            </a>
                        </li>
                        <li>
                            <a href="{{ url_for('main.profil') }}" title="Mon Profil">
                                <i class="fas fa-user"></i>
                                <span>Mon Profil</span>
                            </a>
                        </li>

                        {% if current_user.is_authenticated and current_user.is_admin() %}
                        <li>
                            <a href="{{ url_for('admin.panel_admin') }}" title="Administration">
                                <i class="fas fa-cog"></i>
                                <span>Administration</span>
                            </a>
                        </li>
                        {% endif %}
                    </ul>
                    <div class="logout">
                        <a href="{{ url_for('auth.logout') }}" title="Sortir">
                            <i class="fas fa-sign-out-alt"></i>
                            <span>Sortir</span>
                        </a>
                    </div>
                </nav>

                <!-- Contenu principal qui changera sur chaque page -->
                <main class="content">
                    {% if not hide_header %}
                    <header>
                        {# Le titre H1 sera défini par chaque page fille #}
                        <h1>{% block header %}Bienvenue{% endblock %}</h1>
                    </header>
                    {% endif %}
                    <section class="main-area {% block section_class %}{% endblock %}">
                        {# Le contenu principal sera défini par chaque page fille #}
                        {% block content %}{% endblock %}
                    </section>
                </main>
            </div>
            {# Conteneur pour les notifications flottantes #}
            <div id="conteneur-notifications"></div>

            {# Script JS principal, commun à tout le site #}
            <script src="{{ url_for('static', filename='js/main.js') }}"></script>
        </div>
    </div>
</body>

</html>